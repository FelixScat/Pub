# Network Layer Optimization

网络层优化方案

iOS应用中通常使用大量的服务端数据，那么如何保证我们的网络尽可能快速稳定的为用户传输数据其实也是开发中的重中之重，本篇笔者将会会分为几个角度来设计优化方案

首先，一个请求包含了那些步骤

1. 客户端拼装发送请求
2. DNS解析域名解析
3. TCP握手
4. TLS/SSL握手
5. 服务端接收处理数据并返回
6. 客户山解析

在这些步骤当中，每一步都有我们可以优化的空间，同时也要记住维持网络秩序也是我们应该做的

废话不多说，看看我们能做啥

## 客户端拼装请求阶段

我们在很多的请求中都是先从模型层获取数据再把数据通过一定的格式传递给服务端，那么这里就涉及到几个点

- 服务端需要的数据是什么结构？
- 传输的格式是怎样的？

一般的请求大多使用表单或是json的方式来序列化请求数据，如果某个接口可能提交大量的数据不妨使用 Protocol Buffers 和无服务端进行交互，还有，如果服务端所需要的是某中对象的列表的时候我们可以协商是否需要模型的全部属性交互，如果不需要的话我们就可以把多余的属性去掉再进行序列化

